# üìÖ Google Calendar MCP Bot

Telegram-–±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Google Calendar –∏ Google Tasks —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìÜ –°–æ–±—ã—Ç–∏—è (—á–µ—Ä–µ–∑ MCP)
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —è–∑—ã–∫–æ–º: *"–°–æ–∑–¥–∞–π –≤—Å—Ç—Ä–µ—á—É –Ω–∞ –∑–∞–≤—Ç—Ä–∞ –≤ 10:00"*
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—ã—Ç–∏–π: *"–ü–æ–∫–∞–∂–∏ —Å–æ–±—ã—Ç–∏—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è"*, *"–ß—Ç–æ —É –º–µ–Ω—è –≤ –ø—è—Ç–Ω–∏—Ü—É?"*
- –£–¥–∞–ª–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–Ω–æ—Å —Å–æ–±—ã—Ç–∏–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å–æ–±—ã—Ç–∏–π

### ‚úÖ –ó–∞–¥–∞—á–∏ (—á–µ—Ä–µ–∑ Google Tasks API)
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á: `/create_task –ù–∞–∑–≤–∞–Ω–∏–µ | –¥–∞—Ç–∞`
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–¥–∞—á: `/tasks`
- –û—Ç–º–µ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π: `/complete_task N`
- –£–¥–∞–ª–µ–Ω–∏–µ: `/delete_task N`

### üóìÔ∏è –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
- `/today_all` - —Å–æ–±—ã—Ç–∏—è + –∑–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
- `/week_all` - —Å–æ–±—ã—Ç–∏—è + –∑–∞–¥–∞—á–∏ –Ω–∞ –Ω–µ–¥–µ–ª—é

### üá∑üá∫ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞—Ç—ã: *—Å–µ–≥–æ–¥–Ω—è, –∑–∞–≤—Ç—Ä–∞, –≤—á–µ—Ä–∞, –ø–æ–∑–∞–≤—á–µ—Ä–∞*
- –î–Ω–∏ –Ω–µ–¥–µ–ª–∏: *–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, –≤—Ç–æ—Ä–Ω–∏–∫, —Å—Ä–µ–¥–∞...*
- –§–æ—Ä–º–∞—Ç—ã –¥–∞—Ç: *15.01, 15 —è–Ω–≤–∞—Ä—è, 15 —è–Ω–≤–∞—Ä—è 2026*
- –§–æ—Ä–º–∞—Ç—ã –≤—Ä–µ–º–µ–Ω–∏: *10:00, 10-00, 10.00, 10 —á–∞—Å–æ–≤*

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å MCP —Å–µ—Ä–≤–µ—Ä
npm install -g @cocal/google-calendar-mcp
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google API

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ [Google Cloud Console](https://console.cloud.google.com)
2. –í–∫–ª—é—á–∏—Ç–µ Google Calendar API –∏ Google Tasks API
3. –°–æ–∑–¥–∞–π—Ç–µ OAuth 2.0 Client ID (Desktop app)
4. –°–∫–∞—á–∞–π—Ç–µ `credentials.json` ‚Üí `credentials/google_credentials.json`
5. –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π email –≤ "Test users" (OAuth consent screen)

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω
3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```bash
TELEGRAM_BOT_TOKEN=your_bot_token_here
```

### 4. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

```bash
# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è Calendar (MCP)
npx @cocal/google-calendar-mcp auth

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è Tasks (API)
python reauth_tasks_only.py
```

### 5. –ó–∞–ø—É—Å–∫

```bash
./run.sh
```

–ò–ª–∏ —á–µ—Ä–µ–∑ Docker:

```bash
docker compose up -d
```

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [QUICKSTART.md](QUICKSTART.md) - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤
- [TESTING.md](TESTING.md) - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞
- [EXAMPLES.md](EXAMPLES.md) - –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥
- [FAQ.md](FAQ.md) - –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã:

```bash
./run_tests.sh
```

–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç –∏ –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ/–ø—Ä–æ—Å–º–æ—Ç—Ä/—É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ/–ø—Ä–æ—Å–º–æ—Ç—Ä/–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á

## üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥

### –°–æ–±—ã—Ç–∏—è (–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫)

```
–°–æ–∑–¥–∞–π —Å–æ–±—ã—Ç–∏–µ "–∞–Ω–≥–ª–∏–π—Å–∫–∏–π" –Ω–∞ –∑–∞–≤—Ç—Ä–∞ –Ω–∞ 11:00
–ü–æ–∫–∞–∂–∏ —Å–æ–±—ã—Ç–∏—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
–ß—Ç–æ —É –º–µ–Ω—è –≤ –ø—è—Ç–Ω–∏—Ü—É?
–£–¥–∞–ª–∏ —Å–æ–±—ã—Ç–∏–µ [ID]
```

### –ó–∞–¥–∞—á–∏ (–∫–æ–º–∞–Ω–¥—ã)

```
/tasks
/create_task –ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ | –∑–∞–≤—Ç—Ä–∞
/complete_task 1
/delete_task 1
```

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä

```
/today_all
/week_all
```

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
google-calendar-mcp-bot/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ bot_instance.py      # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ mcp_client.py         # –ö–ª–∏–µ–Ω—Ç –¥–ª—è Calendar (MCP)
‚îÇ   ‚îî‚îÄ‚îÄ tasks_client.py       # –ö–ª–∏–µ–Ω—Ç –¥–ª—è Tasks (API)
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ common_handlers.py    # /start, /help
‚îÇ   ‚îú‚îÄ‚îÄ calendar_handlers.py  # –°–æ–±—ã—Ç–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ tasks_handlers.py     # –ó–∞–¥–∞—á–∏
‚îÇ   ‚îî‚îÄ‚îÄ combined_handlers.py  # –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ date_parser.py        # –ü–∞—Ä—Å–∏–Ω–≥ —Ä—É—Å—Å–∫–∏—Ö –¥–∞—Ç
‚îÇ   ‚îú‚îÄ‚îÄ formatters.py         # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ tasks_formatter.py    # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ test_bot.py           # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ settings.py           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ credentials/              # OAuth credentials (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ main.py                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ requirements.txt          # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile                # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yml        # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ run.sh                    # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
```

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.12+**
- **aiogram 3.16** - Telegram Bot API
- **MCP (Model Context Protocol)** - –¥–ª—è Google Calendar
- **Google Tasks API** - –¥–ª—è –∑–∞–¥–∞—á
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –¢–æ–∫–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `~/.config/google-calendar-mcp/`
- –§–∞–π–ª `.env` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
- OAuth 2.0 –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Google API

## üìã –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **Google Tasks API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è** - —Ç–æ–ª—å–∫–æ –¥–∞—Ç—É
   - –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–±—ã—Ç–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –¥–ª—è –≤—Å—Ç—Ä–µ—á —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º

2. **–ó–∞–¥–∞—á–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ**
   - –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–æ–±—ã—Ç–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è

3. **MCP —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è**
   - –†–µ—à–µ–Ω–∏–µ: –ø–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –∑–∞–ø—Ä–æ—Å

## ü§ù –í–∫–ª–∞–¥

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. [LICENSE](LICENSE)

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [FAQ.md](FAQ.md)
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `tail -f /tmp/bot_*.log`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã: `./run_tests.sh`

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º —á–µ—Ä–µ–∑ Telegram**
